<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	
	<link rel="stylesheet" type="text/css" href="../styles/headerCss.css"/>
</h:head>

<h:body>
	
	<ui:composition>
	<h:form>
	<nav class="navbar navbar-default navbar-fixed-top">
		<nav class="navbar navbar-inverse" style="margin-bottom: 0px;">
  			<div class="container-fluid">
  			  <div class="navbar-header">
    			  <a class="navbar-brand">
								<h:commandLink  actionListener="#{loginView.redirectToHome}">
									<p:graphicImage id="home" style="height:40px" name="../images/ball.png" />
									<p:tooltip id="toolTipFade" for="home" value="Home" />
								</h:commandLink>
								<p:outputLabel style="font-size: 1.4em;color:white" value="Welcome, #{loginView.currentPlayer.username} !" ></p:outputLabel>
				   </a>
    		  </div>
    		  
    		  <div class="withpadding" >
   			  <ul class="nav navbar-nav">
   				
      				<li class="dropdown">
        				<a class="dropdown-toggle" data-toggle="dropdown" style="color:white">Games
        				<span class="caret"></span></a>
        				<ul class="dropdown-menu">
         				 	<li><p:commandButton styleClass="nobackground" value="Next games" actionListener="#{loginView.redirectToNextGames}" ajax="false" /></li>
          					 <li><p:commandButton styleClass="nobackground" value="Games history" actionListener="#{loginView.redirectToHistory}" ajax="false" /></li>
          					 <li><p:commandButton styleClass="nobackground"  onclick="PF('dlg2').show();" value="New game" /></li>
        				</ul>
     			    </li>
		 			
		 			<li class="dropdown">
        				<a class="dropdown-toggle" data-toggle="dropdown" style="color:white">Players
        				<span class="caret"></span></a>
        				<ul class="dropdown-menu">
         				 	<li><p:commandButton styleClass="nobackground" value="View players" actionListener="#{loginView.redirectToPlayers}" ajax="false" /></li>
          					<li><p:commandButton styleClass="nobackground"  onclick="PF('addPlayerDialog').show();" value="Add new player" /></li>
        				</ul>
     			    </li>
     			    
     			    <li class="dropdown">
        				<a class="dropdown-toggle" data-toggle="dropdown" style="color:white">Charts
        				<span class="caret"></span></a>
        				<ul class="dropdown-menu">
         				 	<li><p:commandButton styleClass="nobackground" value="My chart" actionListener="#{loginView.redirectToMyChart}" ajax="false" /></li>
          					 <li><p:commandButton styleClass="nobackground" value="View chart" actionListener="#{loginView.redirectToCharts}" ajax="false" /></li>
        				</ul>
     			    </li>
   			 </ul>
   			 </div>
   			 <div class="rightfloat">
   			 	<div class="btn-group">
   			 		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  					  <span class="glyphicon glyphicon-th-large"></span>
  					</button>
  					<ul class="dropdown-menu dropdown-menu-right">
    					<li>
    						<h:commandLink title="Personal Information" actionListener="#{loginView.redirectToPersonalDates}"  >
   			 					<p>Personal information</p>    
   			 				</h:commandLink>
   			 			</li>
    					<li>
    						<h:commandLink title="Change password" actionListener="#{loginView.redirectToChangePass}"  >
   			 					<p>Change password</p>    
   			 				</h:commandLink>
						</li>
    					<li role="separator" class="divider"></li>
    					<li>
    						<h:commandLink title="Logout" actionListener="#{loginView.logout}"  >
   			 					<p>Logout</p>    
   			 				</h:commandLink>
						</li>
  					</ul>
   			    </div>
   			   </div>
   			 </div>
			</nav>
		</nav>
		</h:form>

		<p:dialog header="New game" widgetVar="dlg2"  height="400" width="500" showEffect="clip" hideEffect="clip">
			<h:form id="dialogForm">
				 <p:outputPanel id="gameDetail" style="text-align:center;">
   				 	<p:panel columns="2" style="border:none">
   				  		<p:outputLabel for="datetime" value="Datetime:" />
   				  		<p:calendar id="datetime" value="#{nextGamesView.gameDate}" pattern="yyyy-MM-dd HH:mm:ss" />
    					<p:commandButton value="Add" actionListener="#{nextGamesView.newGame}" ajax="true" />
   				  	</p:panel>
   				 </p:outputPanel>
   			</h:form>
   		</p:dialog>
		
		<p:dialog header="New player" widgetVar="addPlayerDialog"  height="400" width="500" showEffect="clip" hideEffect="clip">
			<h:form id="dialog">
				<div class="row">
					<p:messages id="messages"/>
				</div>
				<div class="row">
					<div class="col-sm-5 col-md-5 ">
						<p:outputLabel  value="Username"></p:outputLabel>
					</div>
					<div class="col-sm-7 col-md-7">
						<p:inputText id="name" value="#{singUpView.name}" required="true" >
							<f:validateLength minimum="2"></f:validateLength>
						</p:inputText>
					</div>
					
					<div class="col-sm-5 col-md-5">
						<p:outputLabel  value="Password"></p:outputLabel>
					</div>
					<div class="col-sm-7 col-md-7">
						<p:password id="pass" >
				 			<f:validateLength minimum="2"></f:validateLength>
				 		</p:password>
					</div>
				</div>
   			</h:form>
   		</p:dialog>
   		
	</ui:composition>
</h:body>
</html>