package views;

	import java.util.ArrayList;
	import java.util.List;

import javax.annotation.PostConstruct;
import javax.faces.application.FacesMessage;
	import javax.faces.bean.ManagedBean;
import javax.faces.bean.ManagedProperty;
import javax.faces.context.FacesContext;
	import org.primefaces.event.SelectEvent;

import dataAccessLayer.PlayerDataAccess;
import model.Player;
	 
	@ManagedBean
	public class AutoCompleteView {
	    
	    private List<Player> listOfPlayers;
	    
	    @PostConstruct
		public void init() {
			System.out.println("Hello from players init");
		    this.listOfPlayers=PlayerDataAccess.ListAllPlayers();
		    for(Player p:this.listOfPlayers)
		    {
		    	System.out.println(p.toString());
		    }
		}
	    
	    public List<Player> completeTheme(String query) {
	        List<Player> allThemes = PlayerDataAccess.ListAllPlayers();
	        List<Player> filteredThemes = new ArrayList<Player>();
	         
	        for (int i = 0; i < allThemes.size(); i++) {
	        	Player skin = allThemes.get(i);
	            if(skin.getUsername().toLowerCase().startsWith(query)) {
	                filteredThemes.add(skin);
	            }
	        }
	         
	        return filteredThemes;
	    }
	     
	    public void onItemSelect(SelectEvent event) {
	        FacesContext.getCurrentInstance().addMessage(null, new FacesMessage("Item Selected", event.getObject().toString()));
	    }
}
