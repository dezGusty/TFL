<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Thursday Fotball League</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css"/>
	<link rel="stylesheet" type="text/css" href="../styles/custCss.css"/>
</h:head>

<h:body>
	<div class="container-fluid">		
		<div class="row">
			<div class="navbar navbar-default navbar-static-top" style="margin-bottom:0px;background:#284d00;">
				<div class="container" >
					<div class="row" style="color:white">
						<h1>Thursday Football League</h1>
					</div>
  				</div>
  				
  				<div class="row">
					<ui:insert name="header">
						<ui:include src="/resources/header.xhtml" />
					</ui:insert>
				</div>
			</div>
		</div>
	</div>
	
	<div class="container-fluid withBackground">
		<h:form enctype="multipart/form-data">
		<div class="container">

			<div class="row">
				<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
			</div>
		
			<div class="row" style="text-align:center;">
				<div class="col-sm-12 col-md-12 col-md-offset-4" style="width:auto;text-align:center">
					 <table id="personalinfo" class="table" style="width:100%">
			 			 <tbody>
      						<tr>
        						<td colspan="2">
        							<p:graphicImage id="grimg"  value="#{loginView.currentPlayer.picture}" style="height:160px;width:100px;">
        							</p:graphicImage>
        						</td>
      						</tr>
      						<tr>
        						<td><p:fileUpload value="#{fileUploadManagedBean.file}" mode="simple" skinSimple="true"  allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/></td>
                				<td><p:commandButton value="Submit" ajax="false" actionListener="#{fileUploadManagedBean.upload}" update="personalinfo" /></td>
      						</tr>
     				 		<tr>
        						<td><h:outputText style="float:right;font-size:22px" value="Name:" /></td>
        						<td><h:outputText style="float:left;font-size:22px" value="#{loginView.currentPlayer.username}" /></td>
      						</tr>
      						<tr>
        						<td><h:outputText style="float:right;font-size:22px" value="Rating:" /></td>
								<td><h:outputText style="float:left;font-size:22px" value="#{loginView.currentPlayer.rating}" /></td>
      						</tr>
      						<tr>
        						<td><h:outputText style="float:right;font-size:22px" value="Played games:" /></td>
								<td><h:outputText style="float:left;font-size:22px"  value="#{personalInfo.playedGames}" /></td>
      						</tr>
      						<tr>
        						<td><h:outputText style="float:right;font-size:22px" value="Winner:" /></td>
								<td><h:outputText style="float:left;font-size:22px"  value="#{personalInfo.winner}" /></td>
      						</tr>
      						<tr>
        						<td><h:outputText style="float:right;font-size:22px" value="Loser:" /></td>
								<td><h:outputText style="float:left;font-size:22px"  value="#{personalInfo.looser}" /></td>
      						</tr>
      						<tr>
        						<td><h:outputText style="float:right;font-size:22px" value="Available: " /></td>
								<td><p:inputSwitch value="#{loginView.currentPlayer.available}" style="float:left">
           					 		<p:ajax listener="#{loginView.changeAvailability}"  />
        							</p:inputSwitch>	
        						</td>
      						</tr>
    					</tbody>
				 </table>
			 </div>
		</div>
	</div>
</h:form>

<h:form id="fileUpoad" prependId="false" enctype="multipart/form-data">
 
            <h:outputLabel for="txtIdName" value="Enter Your Name:" />
            <p:inputText id="txtIdName" required="true" value="#{fileUploadBean.name}"   label="Name" />
 
              <p:separator/>
 
<!-- File Upload with  mode="advanced". multiple files can be uploaded. upload button  -->       
 
            <h:outputLabel for="fileIdPhoto" value="Upload Your Photo:" />
 
            <p:fileUpload id="fileIdPhoto"  fileUploadListener="#{fileUploadBean.uploadPhoto}" mode="advanced" dragDropSupport="false"
             multiple="true" update="refreshMe" sizeLimit="10000000" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|zip|png)$/"  />
 
              <p:messages id="messages" autoUpdate="true" closable="true" />
 
              <p:separator/>

 
</h:form>  
<div bgcolor="white">
 
     <p:graphicImage id="refreshMe" value="#{fileUploadBean.listImage}" />
 
    </div>
</div>
	<script src="../bootstrap/js/bootstrap.min.js"></script>
</h:body>
</html>